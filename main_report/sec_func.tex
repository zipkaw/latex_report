\section{ФУНКЦИОНАЛЬНОЕ ПРОЕКТИРОВАНИЕ}
\label{sec:func}

Данный раздел посвящён разработке функциональной схемы, выбору оборудования 
разрабатываемой локальной компьютерной сети, её функциональному проектированию и настройке. 
Схема функциональная приведена в приложении Б. 

\subsection{Выбор модели рабочей станции}

Выбор компьютеров для научно-исследовательской организации зависит от отделов организации. 
Например, для отдела инженерии, разработки и тестирования требуются станции способные запускать требовательное к ресурсам ПО, 
возможно с задействованием дискретной графики для моделирования процессов. 
В тоже время для отдела внедрения, управления и бухгалтерии не требуется техника, которая должна производить большое количество вычислений.
Прежде чем приступить к выбору конкретных компонентов, следует выделить состав любой пользовательской станции.

\begin{itemize}
    \item операционная система;
    \item процессор;
    \item оперативная память;
    \item жесткий диск;
    \item графическая карта(встроенная либо дискретная);
    \item сетевые адаптеры;
    \item безопасность;
    \item периферия;
\end{itemize}

В соответствии с требованиями и составом пользовательской станции, которые приведены выше для отделов инженерии, разработки и тестирования
можно рассматривать станции с процессорами высокой производительности, например, Intel Core i7 или AMD Ryzen 7. Оперативной памяти должно быть 16 Гб 
или более для эффективной работы с большими объемами данных. В качестве жесткого диска лучшим решением будет SSD-накопитель для ускоренного процесса 
загрузки и работы с программами. Графическая карта будет выбрана исходя из того, что она будет необходима для качественного вывода изображения на мониторы,
также она должна соответствовать рекомендуемым требованиям ПО, которое будет использоваться внутри организации. На каждую пользовательскую станцию будет приходится
минимум 2 монитора, для комфортной работы персонала. Мониторы были выбраны компании Dell модели P2720D с разрешением 1920x1080 пикселей, данные мониторы отличаются от конкурентов своим качеством,
наличием регулировки высоты монитора, а также приемлемой ценой. В качестве устройств ввода был выбран набор клавиатуры и мыши Logitech MK120

Для отдела внедрения, управления и бухгалтерии требования для компонентов несколько ниже, ввиду того, что персонал в данных отделах пользуется ПО предназначенным для 
работы с различными документами и ведения учета. Процессор можно использовать из серии Intel i3 или Ryzen 3. Количество оперативной 
памяти будет достаточно в количестве 8Гб. К жесткому диску и дисплею особых требований нет. Дискретная видеокарта не требуется, достаточно только встроенной в процессор.
Идеальным решением для данных отделов будет внедрение моноблока.
В данный отдел также можно внедрить уже существующий системный блок со следующими характеристиками: 
Pentium G2030, PC3-10600 8 GB, HD Video, HD Audio, Gigabit Ethernet. 

В качестве реальных решений для отделов инженерии, разработки и тестирования будут рассмотрены готовые системные блоки, данное решение выбрано в целях экономии времени на 
сборочных работах и поиске комплектующих.
Выбор готовых решений будет производится на популярном сайте-агрегаторе товаров Onliner.by\cite{onliner} в которых есть возможность фильтрации товара по выбранным критериям,
которые перечисленны выше.
решение о выборе товара будет основываться на его рейтинге. В таблице \ref{table:func:workStations}
приведены готовые решения.

\begin{longtable}{
    | >{\raggedright}m{0.200\textwidth}
    | >{\raggedright\arraybackslash}m{0.530\textwidth}
    | >{\raggedright\arraybackslash}m{0.190\textwidth}|}
    
    \caption{Рабочие станции}
    \label{table:func:workStations} \\
    \hline
    \centering Название
    & \centering\arraybackslash Комплектующие
    & \centering\arraybackslash Средняя оценка/количество отзывов \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Название
    & \centering\arraybackslash Комплектующие
    & \centering\arraybackslash Средняя оценка/количество отзывов \\
    \hline
    \endhead

    FK BY GamePro 132719 &
    CPU AMD Ryzen 7 3700X 3600 МГц, RAM DDR4 16 ГБ, SSD+HDD 480 ГБ, графика: NVIDIA GeForce RTX 2060 Super 8 ГБ, LAN 1 Gbit &
    4/10
    \\
    \hline
    FK BY RedGame 133164 &
    CPU Intel Core i7 11700K 3600 МГц, RAM DDR4 16 ГБ, SSD 480 ГБ, графика: AMD Radeon RX 5700 XT 8 ГБ, LAN 1 Gbit &
    5/9
    \\
    \hline
    Компьютер Jet Wizard 7i11700K &
    CPU Intel Core i7 11700K 3700 МГц, RAM DDR4 16 ГБ, SSD+HDD 120 ГБ, графика: NVIDIA GeForce GTX 1050 Ti 4 ГБ, LAN 1 Gbit &
    5/5
    \\
    
    \hline

\end{longtable}  

По количеству отзывов и максимальной средней оценке наиболее подходящий вариантом является станция FK BY RedGame 133164.

В качестве реальных решений для отделов внедрения управления и бухгалтерии будут рассмотрены следующие готовый решения: 

\begin{longtable}{
    | >{\raggedright}m{0.200\textwidth}
    | >{\raggedright\arraybackslash}m{0.530\textwidth}
    | >{\raggedright\arraybackslash}m{0.190\textwidth}|}
    
    \caption{Моноблоки}
    \label{table:func:monoWorkStations} \\
    \hline
    \centering Название
    & \centering\arraybackslash Комплектующие
    & \centering\arraybackslash Средняя оценка/количество отзывов \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Название
    & \centering\arraybackslash Комплектующие
    & \centering\arraybackslash Средняя оценка/количество отзывов \\
    \hline
    \endhead

    HP 200 G4 1C7L8ES &
    21.5" 1920 x 1080 IPS, матовый, несенсорный, Intel Core i5 10210U 4200 МГц, 8 ГБ, SSD 256 ГБ, видеокарта встроенная, LAN 1 Gbit, WiFi 802.11ac &
    5/1
    \\
    \hline
    MSI Pro AP242 12M-209XRU &
    23.8" 1920 x 1080 IPS, матовый, несенсорный, Intel Core i3 12100 4300 МГц, 8 ГБ, SSD 512 ГБ, видеокарта встроенная, LAN 1 Gbit, WiFi 802.11ax &
    5/1
    \\
    \hline
    Lenovo IdeaCentre 3 24ITL6 F0G0017ELK &
    23.8" 1920 x 1080 IPS, матовый, несенсорный, Intel Core i5 1135G7 4200 МГц, 8 ГБ, HDD 1000 ГБ, видеокарта встроенная, LAN 1 Gbit, WiFi 802.11ax &
    3.5/3
    \\
    \hline

\end{longtable}  

Был выбран моноблок компании HP в силу того, что он имеет более производительный процессор и более низкую стоимость по сравнению со своим конкурентом~-- моноблоком
компании MSI.

\subsection{Выбор операционной системы}

Среди операционных систем (ОС) для отдела отдела внедрения управления и бухгалтерии будет установлена Windows 10, как как большинство приложений для данных 
отделов написаны для данной ОС, а также более простой и дружеский интерфейс не должен вызвать проблем у персонала. 
В тоже время для отделов инженерии, разработки и тестирования будут установлены ОС Windows 10 и Linux Ubuntu 23.04 LTS. Выбор установки двух ОС объясняется тем,
что бывает ПО, которое поддерживается только одной операционной системой. Также АСУ разрабатываются как для Windows так и для Linux. LTS в версии Ubuntu означает 
Long time support~-- стабильный релиз и длительная (10 лет) поддержка ОС~\cite{ubuntu}.

\subsection{Выбор модели принтера}

Принтер в НИО АСУ играет важную роль во всех отделах, 
обеспечивая печать документов, отчетов, графиков, схем, технической документации и других материалов.
Для принтера следует выделить следующие требования:

\begin{itemize}
    \item качество печати и размер;
    \item большой объем печати;
    \item совместимость и подключение;
    \item экономичность;
\end{itemize}

Качество печати принтера определяется количеством точек (DPI - dots per inch), которые принтер может разместить на дюйм. 
Чем выше DPI, тем более детализированное и четкое изображение будет напечатано. 
Большинство принтеров имеют разрешение от 600 до 4800 DPI. Также качество печати зависит от технологии печати: разные типы принтеров 
(лазерные, струйные, сублимационные и т. д.) используют разные технологии печати. Например, лазерные принтеры, обычно, обеспечивают 
более четкую и профессиональную черно-белую печать, в то время как струйные принтеры обладают лучшими возможностями для цветной печати.
Размер печати для данной организации подойдет от A4 до А3. А3 позволяет отобразить большие схемы, графики на одном листе, что полезно 
при проведении собраний, переговоров и обсуждений.

Большой объем печати определяется ресурсом расходных материалом, то есть количеством страниц которые можно напечатать используя один комплект 
чернил или тонера.

Совместимость и подключение определяется типами интерфейсов для подключения, совместимость драйверов с операционными 
системами (далее OC), а также сетевыми возможностями.
Рассмотрим в \ref{table:func:printersConnectionProperty} данные аспекты.

\begin{table}[ht]
    \caption{Совместимость и подключение}
    \label{table:func:printersConnectionProperty}
    \begin{tabular}{| >{\raggedright}m{0.470\textwidth}
                    | >{\raggedright\arraybackslash}m{0.475\textwidth}|}
        \hline
        \centering Аспекты подключения и совместимости & \centering\arraybackslash Описание \\

        \hline
        Типы интерфейсов для подключения &
        USB.
        \\
        \hline
        Совместимость драйверов с ОС &
        Windows, Linux, MacOS
        \\
        \hline
    \end{tabular}
\end{table}

Экологичность принтера можно определить его энергоэффективностью, а также наличием экологических сертификатов. 
Энергоэффективность определяется за счет мощности потребляемой принтером и его способностью переходить в спящий режим. 
Наличие сертификатов, таких как ENERGY STAR\cite{energystar} или других экологических сертификатов, свидетельствует о соответствии принтера 
определенным стандартам по энергоэффективности и экологической безопасности.

Для выбора существующих принтеров также воспользуемся сайтом-агрегатором Onliner.by. Для этого следует определиться с характеристиками
принтера в соответствии с требованиями приведенными выше. Среди предложенных вариантов подходящим является Canon i-SENSYS LBP6030B.
Принтер на функциональной схеме обозначен как PR-N, где N~-- номер принтера. Принтеры в организации распределенны
по-одному на каждый отдел. 

\subsection{Выбор модели NVR и камер видеонаблюдения}

Видео камеры в организации выполняют две важных функции, а именно:
\begin{itemize}
    \item безопасность и контроль доступа;
    \item мониторинг рабочих процессов;
\end{itemize}

Можно предположить, что камеры видеонаблюдения в организации могут использоваться также и в целях исследования, например, для 
поиска решений автоматизации рабочих процессов посредством анализа видеопотока.

К камерам можно выделить следующие требования для того чтобы функции камер выполнялись как требуется:

\begin{itemize}
    \item разрешение и качество изображения;
    \item угол обзора и область покрытия;
    \item ИК-подсветка;
    \item наличие PoE;
\end{itemize}

Разрешение и качество изображения позволяет получить четкие изображения, что может являться ключевым фактором в обеспечении безопасности. 
Угол обзора позволяет захватить большую площадь для наблюдения и соответственно сократить количество камер на одно помещение.
ИК-подсветка позволяет наблюдать в условиях плохой освещенности, например, ночью, когда никто не работает. Наличие PoE упрощает их
монтаж, так как не требуется отдельно проводить кабельные сети для питания камер.

Для мониторинга и управления камерами выбрано использование NVR. Данное устройство позволяет хранить записи с видеокамер и получать
доступ к этим данным по сети.
Для выбора NVR следует обратить внимание на следующие характеристики:

\begin{itemize}
    \item количество каналов;
    \item разрешение записи;
    \item ёмкость хранения;
    \item сетевые возможности;
    \item поддержка PoE;
\end{itemize}

NVR может поддерживать определенное количество камер видеонаблюдения, 
что называется "количество каналов". Это определяет, сколько камер можно подключить и 
записывать с помощью данного NVR. Для подключения к сети NVR может иметь порты Ethernet, а также 
поддержку различных сетевых протоколов для удаленного доступа и управления. Поддержка PoE, требуется 
из-за требований предъявленным камерам. 

Среди камер, можно выбрать Hikvision DS-2CD2345G0P-I ее характеристики удовлетворяют вышеперечисленным требованиям. Данная камера имеет широкий обзор (180/101 градус),
поддержку POE, ИК-подсветку и разрешение видеопотока 1920х1080. На функциональной схеме камеры обозначены как CAM-N, где N~-- это номер камеры.

Среди NVR подходящим решением будет Hikvision DS-7604NI-K1. Характеристики данного NVR удовлетворяют вышеперечисленным требованиям. А также дополнительным преимуществом
является удобный интерфейс для настройки и просмотром видеопотока. На функциональной схеме обозначен как NVR.


\subsection{Выбор устройства для защиты от перепадов напряжения}

Для защиты от перепадов напряжения можно использовать стабилизатор напряжения или источник бесперебойного питания (ИБП) в случае прекращения электроснабжения.
Основными требованиями к стабилизатору являются стабильность, надежность и скорость срабатывания. Для ИБП требуется обеспечить 
электроснабжением подключенные устройства некоторое время, для их безопасного выключения, 
так же ИБП может обеспечить и стабилизацию напряжения если он является линейно-интерактивным
или онлайн. 
Так как в организации
работают в основном с компьютерами, то для защиты от перепадов напряжений лучше выбрать ИБП. Уровень защиты можно увеличить еще больше,
если поставить устройство защиты от импульсных перенапряжений (УЗИП), перед ИБП, однако для этого требуется монтажные работы в силовой части сети.
Сетевой фильтр можно подключить к ИБП и в местах подключения оборудования, не требовательного к качеству силовой сети, это могут быть различные зарядные устройства от телефонов, светильники и т.д.
Итого для защиты от перепадов напряжения можно использовать следующую схему подключения:

\begin{enumerate}
    \item ИБП;
    \item сетевой фильтр;
\end{enumerate}

Выбранное оборудование приведено в таблице ниже:
\begin{longtable}{
    | >{\raggedright\arraybackslash}m{0.200\textwidth}
    | >{\raggedright\arraybackslash}m{0.200\textwidth}
    | >{\raggedright\arraybackslash}m{0.510\textwidth}|}
    
    \caption{Зашита от перепадов напряжения}
    \label{table:func:modem} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Функция
    & \centering\arraybackslash Характеристики \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Функция
    & \centering\arraybackslash Характеристики \\
    \hline
    \endhead

    Defender ES 5 & Сетевой фильтр & 5 розеток, макс. ток нагрузки 10 А
    \\
    \hline
    Powerman Online 2000 Plus  & ИБП & 1600 Вт
    \\
    \hline
    ОПВ-C/3P & УЗИП &  Номинальное напр. 220/230 В, I(ток. нагр.)+II класс(огр. имп. напр.) защиты
    \\
    \hline

\end{longtable}

\subsection{Выбор производителя сетевого оборудования}
\label{sec:networkManufacturer}
Прежде чем выбирать сетевое оборудование следует определится с его производителем, так как заказчик оставил для исполнителя выбор.
Существуют следующие популярные производители сетевого оборудования у которых имеются коммутаторы коммерческого уровня:

\begin{itemize}
    \item Cisco;
    \item HPE;
    \item Dell;
    \item D-Link;
    \item Juniper;
\end{itemize}

В таблице \ref{table:func:Manufacturer} приведены следующие ключевые факторы каждого производителя. Данные факторы не затрагивают характеристики конкретного оборудования,
а рассматривают производителя со стороны его популярности, качества производимого оборудования и т.д. Сравнения были взяты с популярного зарубежного
интернет-издания TechRadar.com~\cite{TechRadar}.

\begin{longtable}{
    | >{\raggedright}m{0.100\textwidth}
    | >{\raggedright\arraybackslash}m{0.190\textwidth}
    | >{\raggedright\arraybackslash}m{0.190\textwidth}
    | >{\raggedright\arraybackslash}m{0.190\textwidth}
    | >{\raggedright\arraybackslash}m{0.190\textwidth}|}
    
    \caption{Характеристики производителя}
    \label{table:func:Manufacturer} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Присутствие на рынке
    & \centering\arraybackslash Поддержка 
    & \centering\arraybackslash Инновации
    & \centering\arraybackslash Доступность \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Присутствие на рынке
    & \centering\arraybackslash Поддержка 
    & \centering\arraybackslash Инновации
    & \centering\arraybackslash Доступность \\
    \hline
    \endhead
   
    Cisco &
    Широкий спектр высококачественного сетевого оборудования. Является лидером на рынке. & 
    Имеет услуги поддержки, предлагает обучающие программы и курсы~\cite{Cisco_trainin_certifications} & 
    Постоянно внедряет новые технологии и стандарты &
    Дорогостоящее оборудование
    \\
    \hline
    HPE &
    Предлагает обширную линейку как сетевого оборудования так и других технологических решений. Популярен на рынке 
    оборудования коммерческого уровня &
    Хорошая поддержка, которая отвечает различным потребностям бизнеса & 
    Внедряет облачные технологии  и технологии программно-определяемых сетей (software-defined networks)~\cite{hpesdn} &
    Конкурентная цена оправданная предлагаемыми возможностями.
    \\
    \hline
    D-Link & 
    Предлагает сетевое оборудование для домов и организаций малого и среднего размера & 
    Поддержка имеется, но менее расширенная по сравнению с другими производителями & 
    Предлагает простые решения которые соответствуют современным технологическим решениям & 
    Низкая цена, подходящая для домов, малых и средних бизнесов.
    \\
    \hline
    Dell & 
    В основном производство нацелено на сервера и хранилища, но также занимает часть рынка по продаже сетевого оборудования включая коммутаторы & 
    Предлагает хорошую поддержку для своих продуктов & 
    Технологии ориентируются на программно-определяемые сети~\cite{dellsdn} & 
    Конкурентная цена оправданная предлагаемыми возможностями.
    \\
    \hline
    Juniper & 
    Предлагает высокопроизводительное сетевое оборудование с фокусом на безопасность и надежность & 
    Качественная поддержка особенно для сложных сетевых решений & 
    Ориентируется на инновации в области высокопроизводительных решений, а также решений в области безопасности автоматизации и облачных решений & 
    Дорогостоящее оборудование
    \\
    \hline
\end{longtable} 

Исходя из вышеперечисленных факторов производитель Cisco является лучшим выбором за счет того, что имеет качественное оборудование, постоянно внедряет
новые технологии и является достаточно популярным производителем на рынке сетевого оборудования, 
и что не мало важно за счет своих обучающих программ имеется множество специалистов, которые могут обслуживать данное оборудование. 
Поэтому выбор сетевого коммутаторов от компании Cisco будет гарантировать НИО АСУ надежную, высокопроизводительную и обслуживаемую сеть.

\subsection{Выбор модели коммутатора}

На основе технического задания следует выбрать коммутатор коммерческого уровня. 
Для начала следует определиться с требованиями к функционалу коммутатора 
в рамках научной исследовательской организации:

\begin{itemize}
    \item стекирование;
    \item поддержка gigabit портов;
    \item PoE;    
    \item поддержка VLAN;    
    \item возможность администрирования;    
    \item безопасность;
\end{itemize}

Первое что можно выделить это поддержка стекирования, это важный фактор в рамках НИО, потому что следует организовать 50 стационарных подключений
а также к сети будут подключены точки доступа, камеры видеонаблюдения, NVR и маршрутизаторы, ко всему этому должно иметься некоторое количество портов для возможности
организации новых подключений без затрагивания сетевого оборудования, исходя из этого следует рассчитывать на еще 2 точки доступа, 1 подключение NVR и 5 камер, 
а также еще одно подключение от маршрутизатора. Итого 59 подключения к коммутатору,
Порты должны поддерживать как минимум Gigabit Ethernet, для поддержки DOCSIS 3.1 маршрутизатора требуется поддержка 10 Gigabit Ethernet. PoE требуется для подключения точек доступа. 
Поддержка VLAN требуется для изоляции трафика между устройствами, так как организации состоит из 6 отделов.
Возможность администрирования требуется для большего контроля сетевого оборудования в рамках организации.
Также коммутатор должен обеспечить как базовый функционал безопасности, например фильтрация MAC-адресов так и расширенный, что буде считаться большим плюсом в сторону
выбора коммутатора.

Официальный сайт Cisco предоставляет удобный веб-интерфейс для подбора коммутаторов\cite{switchsel} и его сравнения, в таблице ниже приведено сравнение следующих коммутаторов 
выбранных через функционал подбора оборудования.

\begin{longtable}{
    | >{\raggedright}m{0.100\textwidth}
    | >{\raggedright\arraybackslash}m{0.200\textwidth}
    | >{\raggedright\arraybackslash}m{0.250\textwidth}
    | >{\raggedright\arraybackslash}m{0.100\textwidth}
    | >{\raggedright\arraybackslash}m{0.215\textwidth}|}
    
    \caption{Выбор коммутаторов}
    \label{table:func:Switch} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Кол-во портов
    & \centering\arraybackslash Поддержка Gigabit портов
    & \centering\arraybackslash Комм. способность
    & \centering\arraybackslash Безопасность \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Кол-во портов
    & \centering\arraybackslash Поддержка Gigabit портов
    & \centering\arraybackslash Комм. способность
    & \centering\arraybackslash Безопасность \\
    \hline
    \endhead

    Catalyst 9200L &
    24-48 &
    10G/1G, 10/100/1000BASE-T copper, mGig &
    56-160 Гбит/с &
    AES-128/MACsec-128, SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow
    \\

    \hline
    Catalyst 9200CX &
    8-12 (1G), 2 x (10G SFP+) &
    10G SFP+, 1G copper &
    60-120 Гбит/с &
    SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow
    \\

    \hline
    Catalyst 9200 &
    24-48 &
    10G/1G, 10/100/1000BASE-T copper, mGig &
    128-400 Гбит/с &
    AES-128/MACsec-128, SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow
    \\

    \hline
    Catalyst 1000 &
    8, 16, 24, 48 &
    10G SFP+, 1G SFP &
    20-176 Гбит/с &
    SSH, Kerberos, SNMP v3, IGMP snooping, MPLS, NetFlow
    \\

    \hline
    Catalyst 9300X &
    12-24 (multi-rate 1/2.5/5/10/25G SFP28), 24-48 (1/2.5/5/10G Multigigabit) &
    100G, 40G, 25G, 10G, 1G fiber &
    1-2 Тбит/с &
    AES-256/MACsec-256, SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow, Аналитика зашифрованного трафика
    \\

    \hline
    Catalyst 9300LM &
    24-48 &
    40G, 25G, 10G, 1G fiber Multigigabit, 10G/5G/2.5G/1G, 10/100/1000BASE-T copper &
    56-472 Гбит/с &
    AES-256/MACsec-256, SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow, Аналитика зашифрованного трафика
    \\

    \hline
    Catalyst 9300 &
    24-48 &
    40G, 25G, 10G, 1G fiber, Multigigabit, 10G/5G/2.5G/1G, 10/100/1000BASE-T copper &
    208-640 Гбит/с &
    AES-256/MACsec-256, SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow, Аналитика зашифрованного трафика
    \\

    \hline
    Catalyst 9300L &
    24-48 &
    40G, 25G, 10G, 1G fiber Multigigabit, 10G/5G/2.5G/1G, 10/100/1000BASE-T copper &
    56-472 Гбит/с &
    AES-256/MACsec-256, SSH, TLS, IPsec, IGMP snooping, MPLS, NetFlow, Аналитика зашифрованного трафика
    \\
    \hline
    
\end{longtable} 

С точки зрения безопасности наиболее выделяется модели коммутаторов серии Catalyst 9300*. С точки зрения поддержки Gigabit портов коммутаторы должны поддерживать скорости 1G Ethernet,
так как технология DOCSIS 3.1. Подходящим решением для компании является коммутатор Catalyst 9300-48P, в первую очередь он рекомендуется
для малых предприятий а также имеет поддержку PoE. Будет  выбрано 2 коммутатора с 48-ми портами, 
при текущем количестве подключений такого количества портов будет более чем достаточно. На функциональной схеме коммутаторы обозначены как SW-1 и SW-2, где SW-1 коммутирует 
трафик отделов управления, бухгалтерии и внедрения, а также камер и беспроводных точек доступа.

\subsection{Выбор модели точки доступа}

Далее следует определится с количеством точек доступа которые могут покрыть этаж г-образного здания
с площадью 450 м.кв. Следуя рекомендациям Cisco, для данного типа помещений рекомендуются 2 точки доступа,
которые можно разметить в по центру одного и другого помещения. Это обеспечит полное покрытие помещений, где работает персонал 
а также роуминг между комнатами. 
Производитель точки доступа будет выбран также Cisco. 

Требования к точке доступа внутри организации можно выделить следующие:
\begin{itemize}
    \item возможность роуминга;
    \item хорошее покрытие;
    \item безопасность;
    \item подключение через PoE;
\end{itemize}

Для беспроводной связи в сети организации необходимо выполнить требования описанные выше. Подключение через PoE могут обеспечить как маршрутизаторы так и коммутаторы,
это позволит избавиться от необходимости создания отдельного подключения к питающей устройство сети. Также точка доступа должна обеспечить хорошее покрытие, так чтобы
беспроводная связь была в любой точке этажа где располагается организация. Предполагается небольшое количество подключений к точкам доступа,
так как большинство подключений будут стационарные. И одно из главных требований к точке доступа это безопасность. Так как в коммерческой организации требования 
к безопасности высокие, то точка доступа не должна быть хрупким местом во всей ЛКС. На функциональной схеме коммутаторы обозначены как AP-1 и AP-2.

Для данной организации подходящим решением будет Cisco Business 140AC CBW140AC, так как соответствует вышеперечисленным требованиям. 

\subsection{Выбор модема DOCSIS}

В обзоре литературы был приведен обзор данной технологии. Для покрытия нужд данной организации требуется модем с DOCSIS версии 
3.1. Модем должен поддерживать Gigabit Ethernet. 

Среди производителей модемов есть следующие лидирующие в этом направлении компании:

\begin{longtable}{
    | l
    | l
    | >{\raggedright\arraybackslash}m{0.200\textwidth}|}
    
    \caption{Выбор модемов}
    \label{table:func:modem} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Поддерживаемая скорость
    & \centering\arraybackslash Количество каналов (up/down) \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Поддерживаемая скорость
    & \centering\arraybackslash Количество каналов (up/down) \\
    \hline
    \endhead

    ARRIS SURFboard SB8200 &
    2 x 1 Gigabit Ethernet &
    32/8
    \\
    \hline
    Netgear CM2050V &
    1 x 2.5 Gigabit Ethernet &
    32/8
    \\
    \hline
    Motorola MB8611 &
    1 x 2.5 Gigabit Ethernet &
    32/8
    \\

    \hline
\end{longtable}  

Среди перечисленных моделей был выбран модем компании Motorola. Хоть характеристики данного модема схожи с характеристиками модема компании Netgar,
модем Motorola имеет встроенную защиту от перепадов напряжения\cite{motorola}, что является одной из целью в построении ЛКС в научной организации. 
На функциональной схеме коммутаторы обозначены как M-1.

\subsection{Выбор маршрутизатора}

Выбор производителя будет основан на выборе из пункта 2.6. 
Далее следует определиться с требованиями к функционалу маршрутизатора 
в рамках научной исследовательской организации:

\begin{itemize}
    \item безопасность;
    \item поддержка Gigabit Ethernet;
    \item пропускная способность;
\end{itemize}

Для коммерческой организации важна безопасность и маршрутизатор должен предоставлять сетевого экрана, а также другие функции способные защитить организацию.

Официальный сайт Cisco предоставляет удобный веб-интерфейс для подбора маршрутизаторов\cite{ciscorouter} и его сравнения, в таблице \ref{table:func:router} приведено сравнение следующих коммутаторов 
выбранных через функционал подбора оборудования.

Из таблицы видно, что хорошую безопасность обеспечивает маршрутизатор модели Catalyst 8200-1N-4T, также он поддерживает встраиваемые модули и хорошую пропускную способность.

\begin{longtable}{
    | l
    | >{\raggedright\arraybackslash}m{0.150\textwidth}
    | >{\raggedright\arraybackslash}m{0.500\textwidth}|}
    
    \caption{Выбор маршрутизатора}
    \label{table:func:router} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Поддержка Gigabit портов
    & \centering\arraybackslash Безопасность \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering Модель
    & \centering\arraybackslash Поддержка Gigabit портов
    & \centering\arraybackslash Безопасность \\
    \hline
    \endhead

    ISR 1100-4G &
    GE &
    IPsec tunnels, NAT, Zone-based firewall
    \\

    \hline
    Catalyst 8200-1N-4T &
    GE &
    Аналитика зашифрованного трафика, VPN, NAT, IPsec tunnels, Zone-based firewall, предотвращение вторжений
    \\

    \hline
    NCS 520 &
    GE, 10GE &
    DHCP Snooping, Dynamic ARP Inspection,
    Authentication, Authorization, and Accounting (AAA) 
    \\
    \hline
    
\end{longtable}  

Также маршрутизатору требуется установить модуль "NIM-ES2-8" с LAN-портами. 
На функциональной схеме коммутаторы обозначены как R-1.

\subsubsection{Схема адресации}

Как уже описывалось выше в научной организации будет находится несколько отделов:

\begin{itemize}
    \item инженерии;
    \item разработки;
    \item тестирования;
    \item управления;
    \item внедрения;
    \item бухгалтерии;
\end{itemize}

Для каждого из отделов можно организовать свой VLAN. Также следует добавить административный VLAN для возможности управления сетевыми устройствами,
VLAN видеонаблюдения и VLAN для беспроводных подключений.

Ниже, в таблице, представлены названия VLAN и их соответствие IPv4-адресам и маскам, а также количество устройств в VLAN. Для внутренней IPv4 адресации 
был выбран адрес 192.168.0.0 с маской равной 255.255.0.0. Для хостов из данных подсетей предполагается динамическое назначение адресов посредством DHCP.
Маски подсети были выбраны таким образом чтобы адресов был запас более чем в два раза.

\begin{longtable}{
    | >{\raggedright\arraybackslash}m{0.250\textwidth}
    | >{\raggedright\arraybackslash}m{0.100\textwidth}
    | >{\raggedright\arraybackslash}m{0.165\textwidth}
    | >{\raggedright\arraybackslash}m{0.200\textwidth}
    | >{\raggedright\arraybackslash}m{0.150\textwidth}|}
    
    \caption{Адресация IPv4}
    \label{table:func:ipv4} \\
    \hline
    \centering\arraybackslash Название VLAN & 
    \centering\arraybackslash Номер VLAN  & 
    \centering\arraybackslash IPv4 адрес & 
    \centering\arraybackslash Длина маски & 
    \centering\arraybackslash Количество хостов \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering\arraybackslash Название VLAN & 
    \centering\arraybackslash Номер VLAN  & 
    \centering\arraybackslash IPv4 адрес & 
    \centering\arraybackslash Длина маски & 
    \centering\arraybackslash Количество хостов \\
    \hline
    \endhead

    Беспроводной &
    70 &
    192.168.70.0 &
    25 &
    50
    \\
    \hline
    Инженерии &
    40 &
    192.168.40.0 &
    27 &
    13
    \\
    \hline
    Разработки &
    20 &
    192.168.20.0 &
    27 &
    13
    \\
    \hline
    Тестирования &
    30 &
    192.168.30.0 &
    27 &
    12
    \\
    \hline
    Административный &
    100 &
    192.168.100.0 &
    28 &
    7
    \\
    \hline
    Внедрения &
    50 &
    192.168.50.0 &
    28 &
    4
    \\
    \hline
    Управления &
    10 &
    192.168.10.0 &
    28 &
    4
    \\
    \hline
    Видеонаблюдения &
    80 &
    192.168.80.0 &
    28 &
    7 
    \\
    \hline
    Бухгалтерии &
    60 &
    192.168.60.0 &
    29 &
    2
    \\
    \hline
    Модем &
    - &
    192.168.1.0 &
    29 &
    6
    \\
    \hline

\end{longtable}  

Для внутренней IPv6 адресации предполагается использование Unique-Local Unicast адресов. 
Global ID часть IPv6 адреса выбрана случайным образом, Subnet ID же представляет из себя 
номер советующего VLAN в 16-м формате дополненный нулями. 
Длина префикса подсети во всех случаях составляет 64 бита. 

\begin{longtable}{
    | >{\raggedright\arraybackslash}m{0.300\textwidth}
    | >{\raggedright\arraybackslash}m{0.300\textwidth}
    | >{\raggedright\arraybackslash}m{0.315\textwidth}|}
    
    \caption{Адресация IPv6}
    \label{table:func:ipv6} \\
    \hline
    \centering\arraybackslash Название VLAN & 
    \centering\arraybackslash Номер VLAN  & 
    \centering\arraybackslash IPv6 адрес \\ 
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering\arraybackslash Название VLAN & 
    \centering\arraybackslash Номер VLAN  & 
    \centering\arraybackslash IPv6 адрес \\
    \hline
    \endhead

    Беспроводной &
    70 &
    FC00:aa:aa:46::/64
    \\
    \hline
    Инженерии &
    40 &
    FC00:aa:aa:28::/64
    \\
    \hline
    Разработки &
    20 &
    FC00:aa:aa:14::/64
    \\
    \hline
    Тестирования &
    30 &
    FC00:aa:aa:1E::/64
    \\
    \hline
    Административный &
    100 &
    FC00:aa:aa:64::/64
    \\
    \hline
    Внедрения &
    50 &
    FC00:aa:aa:32::/64
    \\
    \hline
    Управления &
    10 &
    FC00:aa:aa:0a::/64
    \\
    \hline
    Видеонаблюдения &
    80 &
    FC00:aa:aa:50::/64
    \\
    \hline
    Бухгалтерии &
    60 &
    FC00:aa:aa:40::/64
    \\
    \hline
    Модем &
    - &
    FC00:aa:aa:01::/64
    \\
    \hline
\end{longtable}  

Для административного VLAN предполагается назначение статических адресов.

\begin{longtable}{
    | >{\raggedright\arraybackslash}m{0.300\textwidth}
    | >{\raggedright\arraybackslash}m{0.300\textwidth}
    | >{\raggedright\arraybackslash}m{0.315\textwidth}|}
    
    \caption{Административный VLAN}
    \label{table:func:managed} \\
    \hline
    \centering\arraybackslash Устройство & 
    \centering\arraybackslash IPv4 адрес/маска & 
    \centering\arraybackslash IPv6 адрес \\
    \hline
    \endfirsthead

    \caption{продолжение} \\
    \hline
    \centering\arraybackslash Устройство & 
    \centering\arraybackslash IPv4 адрес/маска & 
    \centering\arraybackslash IPv6 адрес \\
    \hline
    \endhead

    Маршрутизатор &
    192.168.100.1/28 &
    FC00:aa:aa:64::1/64
    \\
    \hline

    \hline
    SW-1 &
    192.168.100.2/28 &
    FC00:aa:aa:64::2/64
    \\

    \hline
    SW-2 &
    192.168.100.3/28 &
    FC00:aa:aa:64::3/64
    \\

    \hline
    AP-1 &
    192.168.100.4/28 &
    FC00:aa:aa:64::4/64
    \\
    
    \hline
    AP-2 &
    192.168.100.5/28 &
    FC00:aa:aa:64::5/64
    \\
    \hline

    \hline
    PC-4 &
    192.168.100.6/28 &
    FC00:aa:aa:64::6/64
    \\
    \hline


\end{longtable}  

\subsection{Настройка удаленного доступа}

Для оборудования Cisco можно настроить SSH (Secure shell) для безопасного и удаленного управления устройствами.
SSH будет полезным в случае настройки оборудования через административную пользовательскую станцию.

Прежде всего нужно задать имя хоста, согласно обозначениям на схеме \functScheme:

\begin{lstlisting}
    Switch(config)# hostname SW1
\end{lstlisting}

Теперь можно добавить доменное имя для более удобного обращения к устройствам:

\begin{lstlisting}
    Switch(config)# ip domain-name sw1
\end{lstlisting}

Дальнейшая настройка SSH выглядит так: 

\begin{lstlisting}
    Switch(config)# crypto key generate rsa
    Switch(config)# username admin privilege 15 secret PASSWORD
    Switch(config)# line vty 0 15
    Switch(config)# transport input ssh
    Switch(config)# aaa new-model
    Switch(config)# aaa authentication login default local
    Switch(config)# access-list 1 permit host 192.168.100.6
    Switch(config-line)# access-class 1 in
    Switch(config-line)# end
    Switch# copy running-config startup-config
\end{lstlisting}

В командах выше был включен SSH и настроена модель локальной аутентификации. В качестве PASSWORD рекомендуется 
использовать сложный пароль с количеством символов больше 10. 

\subsection{Конфигурация коммутаторов}

На примере VLAN отдела управления сконфигурируем коммутатор SW-1. Для начала создадим 
VLAN для этого отдела:

\begin{lstlisting}
    S1(config)#vlan 10
    S1(config)#name projects
\end{lstlisting}

Далее, сконфигурируем порт доступа на физическом порте GigabitEthernet0/3, к которому подключена пользовательская
станция из отдела управления:

\begin{lstlisting}
    S1(config)#interface GigabitEthernet0/3
    S1(config-if)#switchport mode access
    S1(config-if)#switchport access vlan 10
\end{lstlisting}

Чтобы обеспечить порт от несанкционированного доступа следует воспользоваться командой port-security, применительно к порту коммутатора:       
\begin{lstlisting}
    S1(config)#interface GigabitEthernet0/5
    S1(config-if)#switchport port-security violation protect
    S1(config-if)#switchport port-security mac-address 7845.aba7.fe7c
\end{lstlisting}

Port-security желательно применять к административным портам, здесь в примере команды был взят порт GigabitEthernet0/5,
и вымышленный MAC-адрес устройства. 

Для коммутаторов SW-1 и SW-2 следует также добавить транковый порт, пропишем его для порта который соединен с коммутатором SW-2,
а также переопределим VLAN для нетегируемого трафика:

\begin{lstlisting}
    S1(config)#interface GigabitEthernet0/1
    S1(config-if)#switchport mode trunk
    S1(config-if)#switchport trunk native vlan 101
    S1(config-if)#switchport trunk allowed vlan 10,20,30,40,50,60,70,80,100,101
\end{lstlisting}

Также следует настроить порты административной подсети следующим образом:

\begin{lstlisting}
    S1(config)#interface vlan100
    S1(confg-if)#ip address 192.168.100.2 255.255.255.240
    S1(confg-if)#ipv6 address FC00:aa:aa:64::2/64
\end{lstlisting}

Адреса для настройки портов следует брать из таблицы \ref{table:func:managed}.

\subsection{Конфигурация маршрутизатора}

Для IP-маршрутизации необходимо сконфигурировать VLAN на маршрутизаторе, для этого нужно сконфигурировать
подинтерфейс, а также можно добавить VLAN в базу данных для дальнейшего конфигурирования VTP.
Добавление VLAN 10 в базу данных:
\begin{lstlisting}
    Router(config)#vlan 10
    Router(config-vlan)#name projects
    Router(config-vlan)#exit
\end{lstlisting}

Также для выхода в Интернет, нужно добавить маршрут по умолчанию:

\begin{lstlisting}
    Router(config)#ip route 0.0.0.0 0.0.0.0 192.168.1.0
    Router(config)#ipv6 route ::/0 FC00:aa:aa:01::/64
\end{lstlisting}

На примере VLAN 10 сконфигурируем подинтерфейс:

\begin{lstlisting}
    Router(config)#interface gi0/1.10
    Router(config-subif)#encapsulation dot1q 10
    Router(config-subif)#ip address 192.168.10.1 255.255.255.248
    Router(config-subif)#ipv6 address FC00:aa:aa:0a::1/64
\end{lstlisting}

Для порта GigabitEthernet0/0 назначим адрес из подсети модема:

\begin{lstlisting}
    Router(config)#interface gi0/0
    Router(config-if)#ip address 192.168.1.2 255.255.255.240
    Router(config-if)#ipv6 address FC00:aa:aa:01::2/64
\end{lstlisting}

\subsubsection{Конфигурация DHCP и DHCPv6}

Чтобы не назначать всем устройствам статические адреса необходима настройка DHCP и DHCPv6 на маршрутизаторе.
При этом должны быть учтены адреса, которые не должны находится в пуле для распределения: 
адреса станций, владельцам которых необходим статический адрес, 
адреса подинтерфейсов маршрутизатора. Пример настройки для VLAN под номером 10: 

% https://nil.uniza.sk/how-to-configure-multiple-ipv6-dhcp-pools-on-remote-cisco-router/
\begin{lstlisting}
    Router(config)#ip dhcp pool vlan10
    Router(config)#ip dhcp excluded-address 192.168.10.1
    Router(dhcp-config)#network 192.168.10.0 255.255.255.240
    Router(dhcp-config)#default-router 192.168.10.1
    Router(dhcp-config)#domain-name router
    Router(dhcp-config)#exit
    Router(config)#ipv6 dhcp pool vlan10v6
    Router(dhcp-config)#address prefix FC00:aa:aa:0a::/64
    Router(dhcp-config)#domain-name router
    Router(dhcp-config)#exit
    Router(config)#int gi0/1
    Router(config-if)#int gi0/1
    Router(config-if)#ipv6 dhcp server automatic
\end{lstlisting}

\subsubsection{Конфигурация cетевого экрана}
% https://community.cisco.com/t5/security-knowledge-base/ios-zone-based-firewall-step-by-step-basic-configuration/ta-p/3142774
Добавим зоны INSIDE - локальная сеть, OUTSIDE - Интернет:
\begin{lstlisting}
    Router(config)#zone security INSIDE
    Router(config)#zone security OUTSIDE
\end{lstlisting}

Назначим портам зоны устанновленные ранее:
\begin{lstlisting}
    Router(config)#interface gigabitEthernet 0/1
    Router(config-if)#zone-member security INSIDE
    Router(config)#interface gigabitEthernet 0/0
    Router(config-if)#zone-member security OUTSIDE
\end{lstlisting}

Далее добавим политики безопасности между зонами:

\begin{lstlisting}
    Router(config)#zone-pair security IN-TO-OUT source INSIDE destination OUTSIDE
    Router(config)#zone-pair security OUT-TO-IN source OUTSIDE destination INSIDE
\end{lstlisting}

Далее нужно создать класс по которому мы будем фильтровать трафик переходящий между зонами, создадим на примере подсети VLAN 10:

\begin{lstlisting}
    Router(config)#ip access-list extended INSIDE-TO-OUTSIDE
    Router(config-ext-nacl)#permit tcp 192.168.10.0 255.255.255.240 any eq www
    Router(config-ext-nacl)#permit icmp 192.168.10.0 255.255.255.240 any
    Router(config)#class-map type inspect match-all INSIDE-TO-OUTSIDE-CLASS
    Router(config-cmap)#match access-group name INSIDE-TO-OUTSIDE
    Router(config-cmap)#exit
    Router(config)ip access-list extended OUTSIDE-TO-INSIDE
    Router(config-ext-nacl)#permit icmp any 192.168.10.0 255.255.255.240
    Router(config)#class-map type inspect match-all OUTSIDE-TO-INSIDE-CLASS
    Router(config)#match access-group name OUTSIDE-TO-INSIDE
\end{lstlisting}

Далее настроим политики действий против трафика, которые должен предпринять сетевой экран:

\begin{lstlisting}
    Router(config)#policy-map type inspect INSIDE-TO-OUTSIDE-POLICY
    Router(config-pmap)#class type inspect INSIDE-TO-OUTSIDE-CLASS
    Router(config-pmap)#inspect
    Router(config-pmap)#class class-default
    Router(config-pmap)#exit
    Router(config)#policy-map type inspect OUTSIDE-TO-INSIDE-POLICY
    Router(config-pmap)#class type inspect OUTSIDE-TO-INSIDE-CLASS
    Router(config-pmap)#pass
    Router(config-pmap)#class class-default
\end{lstlisting}

Теперь применим политики к зонам, которые были созданы вначале:

\begin{lstlisting}
    Router(config)#zone-pair security IN-TO-OUT source INSIDE destination OUTSIDE
    Router(config-sec-zone-pair)#service-policy type inspect INSIDE-TO-OUTSIDE-POLICY
    Router(config-sec-zone-pair)#exit
    Router(config)#zone-pair security OUT-TO-IN source OUTSIDE destination INSIDE
    Router(config-sec-zone-pair)#service-policy type inspect OUTSIDE-TO-INSIDE-POLICY
\end{lstlisting}

Для настройки сетевого экрана на Windows требуется выполнить следующие шаги:

\begin{enumerate}
    \item перейти в меню "Пуск" и открыть панель управления;
    \item выбрать "Система и безопасность", далее "Защитник Windows Брандмауэр";
    \item выбрать "Включить" брандмауэр "Защитник Windows";
    \item выбрать "Включить Защитник Windows брандмауэр" для параметров домена, частной и общедоступной сети;
\end{enumerate}

Для настройки сетевого экрана на Ubuntu требуется ввести следующие команды в терминал:

\begin{lstlisting}
    sudo apt-get install ufw
    sudo ufw default deny incoming
    sudo ufw enable
    sudo ufw allow ssh
    sudo ufw allow out tcp 80
    sudo ufw reload
\end{lstlisting}

\subsection{Конфигурация беспроводных точек доступа}
% https://www.cisco.com/c/en/us/td/docs/wireless/access_point/csbap/CBW_Admin/Admin/en_US/b_Cisco_AP_Admin_Guide/b_Cisco_AP_Admin_Guide_chapter_0100.html#id_129176
Для настройки точек доступа необходимо подключится беспроводным устройством к точке доступа с SSID CiscoBusiness-Setup
и паролем "cisco123". После через web-интерфейс нужно перейти на страницу "ciscobusiness.cisco" и произвести базовую настройку
точки доступа. Далее после первоначальной настройки, следует снова перейти по адресу "ciscobusiness.cisco". В открывшемся окне
следует выбрать "Wireless Settings", далее перейти во вкладку "WLANs" и в поле "Add new WLAN/RLAN" выбрать "VLAN \& Firewall".
Там установить номер VLAN, а также включить возможность назначения адреса через DHCP клиент.

\subsection{Настройка NVR и камер видеонаблюдения}
% https://www.youtube.com/watch?v=o3CAxiE7pz8
Для настройки NVR требуется установить на машину программу под названием "SADP". Машина должна принадлежать той же подсети, что и подсеть видеонаблюдения.
Далее следует открыть программу, и в ней появятся обнаруженные устройства. Следует активировать NVR, для этого нажимаем на
устройство NVR и устанавливаем пароль. Нажимаем на каждое обнаруженное устройство  NVR и в поле "DHCP" нажимаем галочку.
После назначения устройству адреса откроем в web-браузере страницу по адреcу IP NVR. На открывшейся странице следует ввести пароль для входа, 
а также логин "admin". После следует открыть вкладку "Camera management". В появившейся таблице следует выбрать камеру и нажать на кнопку "Modify".
В всплывшем окне следует выбрать "Adding method":"Manual" и назначить адрес из таблицы приложения "SADP".
